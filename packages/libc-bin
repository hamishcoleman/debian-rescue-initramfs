#!/bin/bash

DEBOOT="$1"
ARCH="$2"
STAGE="$3"

DEL="
    /sbin/ldconfig
    /usr/bin/catchsegv
    /usr/bin/getent
    /usr/bin/iconv
    /usr/bin/locale
    /usr/bin/localedef
    /usr/bin/zdump
    /usr/lib/locale/C.UTF-8/LC_ADDRESS
    /usr/lib/locale/C.UTF-8/LC_COLLATE
    /usr/lib/locale/C.UTF-8/LC_CTYPE
    /usr/lib/locale/C.UTF-8/LC_IDENTIFICATION
    /usr/lib/locale/C.UTF-8/LC_MEASUREMENT
    /usr/lib/locale/C.UTF-8/LC_MESSAGES/SYS_LC_MESSAGES
    /usr/lib/locale/C.UTF-8/LC_MONETARY
    /usr/lib/locale/C.UTF-8/LC_NAME
    /usr/lib/locale/C.UTF-8/LC_NUMERIC
    /usr/lib/locale/C.UTF-8/LC_PAPER
    /usr/lib/locale/C.UTF-8/LC_TELEPHONE
    /usr/lib/locale/C.UTF-8/LC_TIME
    /usr/sbin/zic
"

# /usr/share/doc, /usr/share/locale and /usr/share/man
# are all dealt with centrally


if [ "$STAGE" = "minimise" ]; then
    # remove files
    for i in $DEL; do
        rm -f $DEBOOT/$i
    done
else
    echo ERROR: unknown stage
    exit 1
fi

