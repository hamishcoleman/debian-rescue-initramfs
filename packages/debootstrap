#!/bin/bash

DEBOOT="$1"
ARCH="$2"
STAGE="$3"

FILES_LIST="
r   /usr/share/debootstrap/scripts/breezy
r   /usr/share/debootstrap/scripts/dapper
r   /usr/share/debootstrap/scripts/edgy
r   /usr/share/debootstrap/scripts/feisty
r   /usr/share/debootstrap/scripts/gutsy
r   /usr/share/debootstrap/scripts/hardy
r   /usr/share/debootstrap/scripts/hoary
r   /usr/share/debootstrap/scripts/hoary.buildd
r   /usr/share/debootstrap/scripts/intrepid
r   /usr/share/debootstrap/scripts/jaunty
r   /usr/share/debootstrap/scripts/jessie
r   /usr/share/debootstrap/scripts/karmic
r   /usr/share/debootstrap/scripts/lucid
r   /usr/share/debootstrap/scripts/maverick
r   /usr/share/debootstrap/scripts/natty
r   /usr/share/debootstrap/scripts/oldstable
r   /usr/share/debootstrap/scripts/oneiric
r   /usr/share/debootstrap/scripts/potato
r   /usr/share/debootstrap/scripts/precise
r   /usr/share/debootstrap/scripts/quantal
r   /usr/share/debootstrap/scripts/raring
r   /usr/share/debootstrap/scripts/saucy
r   /usr/share/debootstrap/scripts/trusty
r   /usr/share/debootstrap/scripts/utopic
r   /usr/share/debootstrap/scripts/vivid
r   /usr/share/debootstrap/scripts/warty
r   /usr/share/debootstrap/scripts/warty.buildd
"

# /usr/share/doc, /usr/share/info, /usr/share/man and /usr/share/lintian
# are all dealt with centrally


if [ "$STAGE" = "minimise" ]; then
    # remove files
    echo "$FILES_LIST" | while read action file; do
        case "$action" in
        r)  eval rm -f "${DEBOOT}/$file"
            ;;
        esac
    done
else
    # unsupported stage
    exit 1
fi

